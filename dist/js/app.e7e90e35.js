(function(t){function e(e){for(var n,r,i=e[0],l=e[1],u=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"35c8":function(t,e,a){"use strict";var n=a("7690"),s=a.n(n);s.a},"38fa":function(t,e,a){"use strict";var n=a("e79e"),s=a.n(n);s.a},"3dc2":function(t,e,a){},"509d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r={created:function(){this.$store.dispatch("tryAutoLogin")}},i=r,l=a("2877"),u=Object(l["a"])(i,s,o,!1,null,null,null),c=u.exports,d=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("welcome")],1)},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[a("b-navbar-brand",[a("router-link",{staticClass:"links",attrs:{to:"/"}},[t._v("Vue Management")])],1),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",[t.auth?t._e():a("b-button",{staticClass:"my-2 my-sm-0 m-3",attrs:{size:"sm",type:"submit"}},[a("router-link",{staticClass:"links",attrs:{to:"/signup"}},[t._v("Signup")])],1),t.auth?t._e():a("b-button",{staticClass:"my-2 my-sm-0 m-3",attrs:{size:"sm",type:"submit"}},[a("router-link",{staticClass:"links",attrs:{to:"/signin"}},[t._v("Signin")])],1),t.auth?a("b-button",{staticClass:"my-2 my-sm-0 m-3",attrs:{size:"sm",type:"submit"}},[a("router-link",{staticClass:"links",attrs:{to:"/dashboard"}},[t._v("Dashboard")])],1):t._e(),t.auth?a("b-button",{staticClass:"my-2 my-sm-0 m-3 links",attrs:{size:"sm",type:"submit"},on:{click:t.onLogout}},[t._v("Logout")]):t._e()],1)],1)],1)],1)],1)])},v=[],h={computed:{auth:function(){return this.$store.getters.isAuthenticated}},methods:{onLogout:function(){this.$store.dispatch("logout")}}},g=h,b=(a("35c8"),Object(l["a"])(g,f,v,!1,null,"707608c8",null)),w=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"welcome"},[a("h5",[t._v("You are welcome to Nik Tech Hub")]),a("p",[t._v("If you have not created an account with us, please "),a("br"),a("router-link",{attrs:{to:"/signup"}},[t._v("signup here")])],1),a("p",[t._v("If you already have an account with us "),a("router-link",{attrs:{to:"/signin"}},[t._v("login here")])],1)])},y=[],k={},I=Object(l["a"])(k,_,y,!1,null,null,null),S=I.exports,C={name:"home",components:{appHeader:w,Welcome:S}},x=C,T=(a("8c5b"),Object(l["a"])(x,m,p,!1,null,"29918955",null)),O=T.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("signup")],1)},$=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 offset-md-3"},[a("label",{attrs:{for:"email"}},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 offset-md-3"},[a("label",{attrs:{for:"password"}},[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._m(0)])])},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"submit row mt-3 "},[a("div",{staticClass:"col-md-6 offset-md-3",staticStyle:{float:"right"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])])])}],A={data:function(){return{email:"",password:""}},methods:{onSubmit:function(){var t={email:this.email,password:this.password};console.log(t),this.$store.dispatch("signUp",t)}}},P=A,D=(a("e627"),Object(l["a"])(P,U,E,!1,null,"847e0a5c",null)),L=D.exports,z={components:{"app-header":w,signup:L}},J=z,M=Object(l["a"])(J,j,$,!1,null,null,null),N=M.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("router-view"),a("app-signin")],1)},F=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.reSubmit(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 offset-md-3"},[a("label",{attrs:{for:"email"}},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 offset-md-3"},[a("label",{attrs:{for:"password"}},[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._m(0)])},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"submit row mt-3 "},[a("div",{staticClass:"col-md-6 offset-md-3",staticStyle:{float:"right"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])])])}],W={data:function(){return{email:"",password:""}},methods:{reSubmit:function(){var t={email:this.email,password:this.password};console.log(t),this.$store.dispatch("signIn",{email:t.email,password:t.password})}}},Y=W,R=(a("38fa"),Object(l["a"])(Y,H,K,!1,null,"31261788",null)),V=R.exports,q={components:{appHeader:w,appSignin:V}},G=q,Q=Object(l["a"])(G,B,F,!1,null,null,null),X=Q.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("app-header"),a("dashboard")],1)},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("h5",[t._v("This is the dashboard")]),a("p",[t._v("You can only see this dashboard if you are authenticated!!")]),t.email?a("p",[t._v("Your Email Address: "+t._s(t.email))]):t._e()])},at=[],nt=a("bc3a"),st=a.n(nt),ot=st.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1"}),rt=ot,it={computed:{email:function(){return!!this.$store.getters.user&&this.$store.getters.user.email}},created:function(){this.$store.dispatch("fetchUser")}},lt=it,ut=(a("e206"),Object(l["a"])(lt,et,at,!1,null,null,null)),ct=ut.exports,dt={components:{appHeader:w,Dashboard:ct}},mt=dt,pt=Object(l["a"])(mt,Z,tt,!1,null,null,null),ft=pt.exports,vt=(a("0d03"),a("ac1f"),a("5319"),a("2f62"));n["default"].use(vt["a"]);var ht=new vt["a"].Store({state:{idToken:null,userId:null,user:null},mutations:{authUser:function(t,e){t.idToken=e.idToken,t.userId=e.userId},storeUser:function(t,e){t.user=e},clearAuthData:function(t){t.idToken=null,t.userId=null}},actions:{setLogoutTimer:function(t,e){var a=t.commit;setTimeout((function(){a("clearAuthData")}),1e3*e)},signUp:function(t,e){var a=t.commit,n=t.dispatch;rt.post("/accounts:signUp?key=AIzaSyBOKFWskjKFCauzOUB5ApfArJhaysJ1csw",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){console.log(t),a("authUser",{idToken:t.data.idToken,userId:t.data.localId});var s=new Date,o=new Date(s.getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("expireIn",o),n("storeUser",e),n("setLogoutTimer",t.data.expiresIn)})).catch((function(t){return console.log(t)}))},signIn:function(t,e){var a=t.commit,n=t.dispatch;rt.post("/accounts:signInWithPassword?key=AIzaSyBOKFWskjKFCauzOUB5ApfArJhaysJ1csw",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){console.log(t),a("authUser",{idToken:t.data.idToken,userId:t.data.localId});var e=new Date,s=new Date(e.getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("expireIn",s),n("setLogoutTimer",t.data.expiresIn)})).catch((function(t){return console.log(t)}))},tryAutoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");if(a){var n=localStorage.getItem("expireIn"),s=new Date;if(!(s>=n)){var o=localStorage.getItem("userId");e("authUser",{token:a,userId:o})}}},logout:function(t){var e=t.commit;e("clearAuthData"),localStorage.removeItem("expireIn"),localStorage.removeItem("userId"),localStorage.removeItem("token"),wt.replace("/signin")},storeUser:function(t,e){t.commit;var a=t.state;a.idToken&&st.a.post("/users.json?auth="+a.idToken,{email:e.email,password:e.password}).then(console.log((function(t){return console.log(t)}))).catch((function(t){return console.log(t)}))},fetchUser:function(t){var e=t.commit,a=t.state;a.idToken&&st.a.get("/users.json?auth="+a.idToken).then((function(t){console.log(t);var a=t.data,n=[];for(var s in a){var o=a[s];o.id=s,n.push(o)}console.log(n),e("storeUser",n[0])})).catch((function(t){return console.log(t)}))}},getters:{user:function(t){return t.user},isAuthenticated:function(t){return null!==t.idToken}},modules:{}});n["default"].use(d["a"]);var gt=[{path:"/",name:"home",component:O},{path:"/signup",name:"signup",component:N},{path:"/signin",name:"signin",component:X},{path:"/dashboard",name:"dashboard",component:ft,beforeEnter:function(t,e,a){ht.state.idToken?a():a("/signin")}}],bt=new d["a"]({mode:"history",base:"/",routes:gt}),wt=bt,_t=a("5f5b");a("f9e3"),a("2dd8");st.a.defaults.baseURL="https://axios-project-e17cc.firebaseio.com",n["default"].use(_t["a"]),n["default"].config.productionTip=!1,new n["default"]({router:wt,store:ht,render:function(t){return t(c)}}).$mount("#app")},7690:function(t,e,a){},"8c5b":function(t,e,a){"use strict";var n=a("509d"),s=a.n(n);s.a},d5a3:function(t,e,a){},e206:function(t,e,a){"use strict";var n=a("d5a3"),s=a.n(n);s.a},e627:function(t,e,a){"use strict";var n=a("3dc2"),s=a.n(n);s.a},e79e:function(t,e,a){}});
//# sourceMappingURL=app.e7e90e35.js.map